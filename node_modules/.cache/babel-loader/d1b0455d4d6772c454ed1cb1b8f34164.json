{"ast":null,"code":"import _defineProperty from \"/Users/olga/Desktop/goit-react-hw-02-bank-account/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/olga/Desktop/goit-react-hw-02-bank-account/src/components/Dashboard/Dashboard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport 'react-toastify/dist/ReactToastify.css';\nexport default class Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      transactions: [],\n      balance: 0,\n      balanceUp: 0,\n      balanceDown: 0,\n      amount: ''\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const name = target.name,\n            value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleClick = ({\n      target\n    }) => {\n      const name = target.name;\n      this.addTransaction(_objectSpread({}, this.state), name);\n    };\n\n    this.addTransaction = (dataState, nameType) => {\n      if (+dataState.amount === 0) {\n        this.notifyWarn();\n        this.reset();\n        return;\n      }\n\n      const transactionToAdd = _objectSpread({}, dataState, {\n        id: shortid.generate(),\n        type: nameType,\n        amount: +dataState.amount,\n        date: new Date().toLocaleString()\n      });\n\n      if (nameType === 'deposit') {\n        this.setState(prevState => ({\n          transactions: [...prevState.transactions, transactionToAdd],\n          balance: dataState.balance + Number(dataState.amount),\n          balanceUp: dataState.balanceUp + Number(dataState.amount)\n        }));\n      } else {\n        if (+dataState.amount > dataState.balance) {\n          this.notifyError();\n          this.reset();\n          return;\n        }\n\n        this.setState(prevState => ({\n          transactions: [...prevState.transactions, transactionToAdd],\n          balance: dataState.balance - Number(dataState.amount),\n          balanceDown: dataState.balanceDown + Number(dataState.amount)\n        }));\n      }\n\n      this.reset();\n    };\n\n    this.reset = () => {\n      this.setState({\n        amount: ''\n      });\n    };\n\n    this.notifyWarn = () => toast.warn('Введите сумму для проведения операции!');\n\n    this.notifyError = () => toast.error('На счету недостаточно средств для проведения операции!', {\n      position: toast.POSITION.TOP_LEFT\n    });\n  }\n\n  componentDidMount() {\n    const persistedState = localStorage.getItem('state');\n\n    if (persistedState) {\n      const state = JSON.parse(persistedState);\n      this.setState(state);\n    }\n  }\n\n  componentDidUpdate(prevProp, prevState) {\n    const transactions = this.state.transactions;\n\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('state', JSON.stringify(this.state));\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          transactions = _this$state.transactions,\n          balance = _this$state.balance,\n          balanceUp = _this$state.balanceUp,\n          balanceDown = _this$state.balanceDown,\n          amount = _this$state.amount;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Controls, {\n      onChange: this.handleChange,\n      onClick: this.handleClick,\n      amount: amount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(ToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Balance, {\n      balanceUp: balanceUp,\n      balanceDown: balanceDown,\n      balance: balance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), transactions.length > 0 && React.createElement(TransactionHistory, {\n      transactions: transactions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/olga/Desktop/goit-react-hw-02-bank-account/src/components/Dashboard/Dashboard.js"],"names":["React","Component","shortid","ToastContainer","toast","Controls","Balance","TransactionHistory","Dashboard","state","transactions","balance","balanceUp","balanceDown","amount","handleChange","target","name","value","setState","handleClick","addTransaction","dataState","nameType","notifyWarn","reset","transactionToAdd","id","generate","type","date","Date","toLocaleString","prevState","Number","notifyError","warn","error","position","POSITION","TOP_LEFT","componentDidMount","persistedState","localStorage","getItem","JSON","parse","componentDidUpdate","prevProp","setItem","stringify","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n    balanceUp: 0,\n    balanceDown: 0,\n    amount: '',\n  };\n\n  componentDidMount() {\n    const persistedState = localStorage.getItem('state');\n    if (persistedState) {\n      const state = JSON.parse(persistedState);\n      this.setState(state);\n    }\n  }\n\n  componentDidUpdate(prevProp, prevState) {\n    const { transactions } = this.state;\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('state', JSON.stringify(this.state));\n    }\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleClick = ({ target }) => {\n    const { name } = target;\n    this.addTransaction({ ...this.state }, name);\n  };\n\n  addTransaction = (dataState, nameType) => {\n    if (+dataState.amount === 0) {\n      this.notifyWarn();\n      this.reset();\n      return;\n    }\n    const transactionToAdd = {\n      ...dataState,\n      id: shortid.generate(),\n      type: nameType,\n      amount: +dataState.amount,\n      date: new Date().toLocaleString(),\n    };\n    if (nameType === 'deposit') {\n      this.setState(prevState => ({\n        transactions: [...prevState.transactions, transactionToAdd],\n        balance: dataState.balance + Number(dataState.amount),\n        balanceUp: dataState.balanceUp + Number(dataState.amount),\n      }));\n    } else {\n      if (+dataState.amount > dataState.balance) {\n        this.notifyError();\n        this.reset();\n        return;\n      }\n      this.setState(prevState => ({\n        transactions: [...prevState.transactions, transactionToAdd],\n        balance: dataState.balance - Number(dataState.amount),\n        balanceDown: dataState.balanceDown + Number(dataState.amount),\n      }));\n    }\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      amount: '',\n    });\n  };\n\n  notifyWarn = () => toast.warn('Введите сумму для проведения операции!');\n\n  notifyError = () =>\n    toast.error('На счету недостаточно средств для проведения операции!', {\n      position: toast.POSITION.TOP_LEFT,\n    });\n\n  render() {\n    const {\n      transactions,\n      balance,\n      balanceUp,\n      balanceDown,\n      amount,\n    } = this.state;\n    return (\n      <div>\n        <Controls\n          onChange={this.handleChange}\n          onClick={this.handleClick}\n          amount={amount}\n        />\n        <ToastContainer />\n        <Balance\n          balanceUp={balanceUp}\n          balanceDown={balanceDown}\n          balance={balance}\n        />\n        {transactions.length > 0 && (\n          <TransactionHistory transactions={transactions} />\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}